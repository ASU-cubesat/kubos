Documentation
=============

TODO: Fill out the rest of this

Documenting C APIs
------------------

Doxygen
~~~~~~~

Within the new API's folder, create a ``docs`` subfolder and add a ``Doxyfile`` file.
Feel free to copy ``Doxyfile`` from another API, just change the ``PROJECT_NAME`` value.

Within each header file of the API, add the following block to the top of the file in order for Doxygen to be able to process it::

    /**
     * @defgroup <project-name> <API description>
     * @addtogroup <project-name>
     * @{
     */

And then add this to the bottom of the file::

    /* @} */
    
Within the header files, all items should be documented using `Doxygen's formatting <http://www.doxygen.nl/manual/docblocks.html>`__.

The ``<new-api>_api.rst`` doc should contain the declarations needed for the API documentation generated by
Doxygen to be picked up and included in the final HTML.

Including Docs From C APIs
~~~~~~~~~~~~~~~~~~~~~~~~~~

To include the new files in doc generation:

    - Add an entry to ``breathe_projects`` in `docs/conf.py`
    - Add an entry to ``DOCS_DIRS`` in `tools/gendocs.py`

Doc Verification
----------------

In order to generate the documentation locally, navigate to the top level of your copy of the Kubos repo and run ``tools/gendocs.py``.

This will generate the documentation HTML files in a new ``html`` folder, which you can then use to verify your new docs display as intended.

To verify your docs:

    - Make sure that any new ``*.rst`` files are accessible through normal page clicks if you start at the top-level ``index.html``
    - Verify that any new hyperlinks work as intended
    - Make sure that ``tools/gendocs.py`` runs successfully without throwing any errors or warnings. Fix all warnings until the script runs cleanly.
